function(add_problem id)
  foreach(lang ${ARGN})
    if(${lang} STREQUAL cpp)
      add_library(solution-${id}-cpp problem-${id}/cpp/interface.cpp)
      set_property(TARGET solution-${id}-cpp PROPERTY CXX_STANDARD 20)
      list(APPEND solutions solution-${id}-cpp)
    else()
      message(FATAL_ERROR "Unknown language: ${lang}")
    endif()
  endforeach()

  add_executable(problem-${id} problem-${id}/test.cpp)
  set_property(TARGET problem-${id} PROPERTY CXX_STANDARD 20)
  target_link_libraries(problem-${id} PRIVATE Catch2::Catch2WithMain ${solutions})

  catch_discover_tests(problem-${id})
endfunction()

add_problem(1 cpp)
add_problem(4 cpp)
add_problem(5 cpp)
add_problem(8 cpp)
add_problem(11 cpp)
add_problem(26 cpp)
add_problem(27 cpp)
add_problem(28 cpp)
add_problem(35 cpp)
add_problem(387 cpp)
add_problem(392 cpp)
add_problem(799 cpp)
add_problem(1048 cpp)
add_problem(1337 cpp)
add_problem(1658 cpp)
add_problem(2235 cpp)
